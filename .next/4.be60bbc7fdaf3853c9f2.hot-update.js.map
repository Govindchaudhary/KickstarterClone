{"version":3,"file":"4.be60bbc7fdaf3853c9f2.hot-update.js","sources":["webpack:///components/RequestRow.js"],"sourcesContent":["import React,{Component} from 'react';\r\nimport web3 from '../ethereum/web3';\r\nimport {Table,Button} from 'semantic-ui-react';\r\nimport findCampaign from '../ethereum/campaign';\r\nimport {Router} from '../routes';\r\n\r\nclass RequestRow extends Component {\r\n    state={approverLoading:false}\r\n    \r\n\r\n    approve =async() => {\r\n        this.setState({approverLoading:true})\r\n        const campaign = await findCampaign(this.props.address);\r\n        const accounts = await web3.eth.getAccounts()\r\n        await campaign.methods.approveRequest(this.props.index).send({from:accounts[0]});\r\n        Router.replaceRoute(``)\r\n        this.setState({approverLoading:false});\r\n\r\n    }\r\n\r\n    onFinalize = async() => {\r\n        const campaign = await findCampaign(this.props.address);\r\n        const accounts = await web3.eth.getAccounts()\r\n        await campaign.methods.finalizeRequest(this.props.index).send({from:accounts[0]});\r\n       \r\n\r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n            <Table.Row style={this.props.requests.complete?{color:\"gray\"}:null}>\r\n            <Table.Cell>{this.props.index}</Table.Cell>\r\n            <Table.Cell>{this.props.requests.description}</Table.Cell>\r\n            <Table.Cell>{web3.utils.fromWei(this.props.requests.value,'ether')}</Table.Cell>\r\n            <Table.Cell>{this.props.requests.recipient}</Table.Cell>\r\n            <Table.Cell>{this.props.requests.approvalCount}/{this.props.approversCount}</Table.Cell>\r\n           {\r\n               this.props.requests.complete?null:<Table.Cell><Button loading={this.state.approverLoading} color=\"green\" basic content=\"Approve\" onClick ={this.approve}/></Table.Cell>\r\n            } \r\n            {\r\n                this.props.requests.complete?null:<Table.Cell><Button color=\"teal\" disabled={this.props.requests.approvalCount >(this.props.approversCount/2)?false:true } basic content=\"Finalize\" onClick={this.onFinalize}/></Table.Cell>\r\n            }\r\n         </Table.Row>\r\n\r\n        )\r\n    }\r\n}\r\nexport default RequestRow\n\n\n// WEBPACK FOOTER //\n// components/RequestRow.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AACA;AAAA;AAAA;;;;;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAFA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AAIA;AAAA;AACA;AALA;AAKA;AACA;AAAA;AAAA;AAAA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AAGA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;AAQA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AAxCA;AACA;AAyCA;;;;A","sourceRoot":""}