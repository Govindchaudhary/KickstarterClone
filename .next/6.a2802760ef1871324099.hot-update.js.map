{"version":3,"file":"6.a2802760ef1871324099.hot-update.js","sources":["webpack:///components/ContributeForm.js"],"sourcesContent":["import React,{Component} from 'react';\r\nimport  { Form, Button,Input,Message } from 'semantic-ui-react';\r\nimport web3 from '../ethereum/web3';\r\nimport findCampaign from '../ethereum/campaign';\r\nimport {Router} from '../routes'\r\n\r\nclass ContributeForm extends Component {\r\n    state={contribution:'',loading:false,errorMessage:''}\r\n    submit =async(event) => {\r\n        event.preventDefault();\r\n        this.setState({loading:true})\r\n       \r\n        try {\r\n            const campaign = await findCampaign(this.props.address);\r\n            const accounts = await web3.eth.getAccounts();\r\n            await campaign.methods.contribute().send({\r\n                from:accounts[0],\r\n                value:web3.utils.toWei(this.state.contribution,'ether')\r\n            });\r\n            \r\n            Router.replaceRoute(`/campaigns/${this.props.address}`);\r\n            this.setState({loading:false});\r\n\r\n        }\r\n        catch(err) {\r\n            this.setState({errorMessage:err.message,loading:false})\r\n        }\r\n        \r\n\r\n\r\n    }\r\n    render() {\r\n        return(\r\n            <Form onSubmit ={this.submit} error={!!this.state.errorMessage}>\r\n                <Form.Field>\r\n                    <label>Amount to Contribute</label>\r\n                    <Input label=\"ether\" labelPosition=\"right\" value={this.state.contribution } onChange ={(event) => this.setState({contribution:event.target.value})}/>\r\n                    \r\n                </Form.Field>\r\n                <Message negative error header=\"something went wrong\" content={this.state.errorMessage}/>\r\n                <Button loading={this.state.loading} primary content=\"Contribute\"/>\r\n            </Form>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default ContributeForm;\n\n\n// WEBPACK FOOTER //\n// components/ContributeForm.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AACA;AADA;AAKA;AALA;AAAA;AACA;AADA;AAMA;AANA;AAAA;AAQA;AACA;AAFA;AACA;AARA;AAYA;AACA;AAAA;AAAA;AAAA;AACA;AAdA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAgBA;AAAA;AAAA;AAAA;AACA;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;AAsBA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAtCA;AACA;AAwCA;;;;A","sourceRoot":""}